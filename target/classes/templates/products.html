<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: linear-gradient(to right,#fff0f5,#fdeff2); font-family: 'Segoe UI', sans-serif; }
    .product-card{ background: rgba(255,255,255,0.95); border-radius:12px; padding:15px; margin-bottom:20px; }
    .banner-img{ max-height:220px; width:100%; object-fit:cover; border-radius:8px; }
  </style>
</head>
<body class="container">
  <div class="d-flex justify-content-between align-items-center my-3">
    <h3>Kay Beauty Products</h3>
    <div>Welcome, <span th:text="${displayName}">User</span> | <a th:href="@{/logout}">Logout</a> | <a th:href="@{/cart}">Cart</a></div>
  </div>

  <div class="row mb-3">
    <div class="col-md-8"><img src="/images/front.jpg" class="banner-img"/></div>
    <div class="col-md-4 d-flex align-items-center justify-content-center">
      <img src="/images/kaybeauty.jpg" style="max-height:160px;" class="img-fluid rounded"/>
    </div>
  </div>

  <div class="row">
    <div th:each="p : ${products}" class="col-md-4">
      <div class="product-card text-center">
        <img th:src="@{${p.imageUrl}}" style="height:160px;object-fit:contain;" class="img-fluid mb-2"/>
        <h5 th:text="${p.name}"></h5>
        <p th:text="${p.brand}"></p>
        <p style="color:green;">â‚¹<span th:text="${p.price}"></span></p>

        <div class="d-flex justify-content-center gap-2">
          <form th:action="@{/cart/add}" method="post">
            <input type="hidden" name="productId" th:value="${p.id}"/>
            <button class="btn btn-outline-primary btn-sm" type="submit">Add to Cart</button>
          </form>

          <form th:action="@{/buy/now}" method="post">
            <input type="hidden" name="productId" th:value="${p.id}"/>
            <button class="btn btn-success btn-sm" type="submit">Buy Now</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

       